<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/stylesheets/tailwind.css">
</head>
<body>

    <section class="bg-gray-800">
        <nav class="flex flex-end justify-end">
            <ul class="text-white text-2xl p-2 flex flex-row items-center  ">
                <li class="px-2 "><a href="/">Home</a></li>
                <li class="px-2"><a href="/articles">Articles</a></li>
            </ul>
        </nav>
    </section>
   <article class="artile-view grid grid-cols-2 h-screen bg-gray-500 bg-local h-screen bg-cover  " style="background-image: url(/images/bg-3.jpg)">
        <section class="m-3 p-3 max-h-max">
            <section class="bg-yellow-200 p-3 max-h-max ">
                <!-- <div class="w-80 h-50 bg-red-500 bg-cover  " style="background-image: url(/images/bg-3.jpg)">     -->
                </div>
                <h1 class="py-2 px-2 text-3xl font-bold text-red-700"><%= article.title%></h1>
                <div class="bg-white py-4 px-2 max-h-max max-w-max">
                    <h3 class="text-2xl font-semibold underline py-2">Description:</h3>
                    <p class=""><%= article.description%></p>
                </div>
                <div class="py-1  px-2 bg-gray-800 text-white ">
                    <h2 class="text-1xl underline font-semibold py-2">Tags:</h2>
                    <div class="flex flex-row flex-wrap ">
                     <% article.tags.forEach(tag => { %>
                          <h3 class="bg-blue-500 p-2 mx-1 text-1xl rounded"><%= tag %></h3>
                    <%  }) %>
                    </div>
                </div>
            </section>
            <section class="buttons-edit p-2 py-3 text-center">
                <a class="px-3 hover:bg-white hover:text-gray-900 rounded-full bg-gray-800 text-white py-2" href="/articles/<%= article.id%>/edit">Edit Article</a>
                <a class="px-3 hover:bg-white hover:text-gray-900 rounded-full bg-gray-800 text-white py-2" href="/articles/<%= article.id%>/delete">Delete Article</a>
            </section>
        </section>
        <section class=" bg-gray-400 p-3 m-4 bg-opacity-40">
            <section class="comments-form-section bg-red-500 p-2 ">
                <form action="/articles/<%= article.id %>/comments" method="POST" class="flex flex-col">
                    <input  class="m-1 h-30 shadow appearance-none border rounded py-2 px-3 text-grey-darker" type="text" name="comment" id="comment" placeholder="Comment" required>
                    <input class="m-1 h-30 shadow appearance-none border rounded py-2 px-3 text-grey-darker" type="text" name="author" id="author" placeholder="Your Name" >
                    <input type="hidden" name="articleId" value="<%= article.id%>">
                    <input class="m-1 inline-block w-1/3 rounded-full py-2 bg-yellow-400 hover:bg-white hover:text-black" type="submit" id="submit" value="Add Comment">
                </form>
            </section>
            <section class="comment-display-section bg-white  m-1">
            <%   comments.forEach(comment => { %>
                  <div class="m-1 bg-red-500 p-2">
                    <h2 class="text-1xl font-bold"><%= comment.comment%></h2>
                    <h3 class="font-semibold"><%= comment.author %></h3>
                  </div>
            <%   }) %>
            </section>
        </section>
   </article>
</body>
</html>